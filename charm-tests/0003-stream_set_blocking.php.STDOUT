1 (because of blocking fread)
2 (first synchronous output)
3 (after blocking read)
4 (blocking read should be done)
